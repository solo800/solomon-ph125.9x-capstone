# Solomon PH125.9x Capstone: Finding Home in France

**HarvardX PH125.9x Data Science Capstone — Choose Your Own Project**
**Author:** Adam Solomon
**Repository:** https://github.com/solo800/solomon-ph125.9x-capstone

## Overview

This project uses French government open data to inform a real family relocation decision from Paris. It combines a weighted composite scoring system across lifestyle metrics (climate, demographics, economics, political alignment) with machine learning models trained on nearly 60,000 property transactions from the DVF (Demandes de Valeurs Foncières) database.

Three supervised models (Linear Regression, Random Forest, XGBoost) predict house prices across seven target cities, and K-means clustering identifies distinct real estate market tiers at the commune level. The analysis concludes with a multi-criteria city ranking that blends lifestyle scores with affordability and model predictability.

## Repository Structure

```
├── cyo_script.R                    # Complete R analysis script (required deliverable)
├── cyo_report.Rmd                  # R Markdown report source (required deliverable)
├── cyo_report.pdf                  # Final report, knit from Rmd (required deliverable)
├── cyo_edx.Rproj                   # RStudio project file
├── README.md
├── data/
│   ├── dvf_houses_clean.csv        # Processed DVF dataset (59,373 transactions)
│   ├── commune_filter_lookup.csv   # Target commune definitions (pre-computed)
│   └── raw/                        # Source data for city screening phase
│       ├── communes_2025.csv
│       ├── population_age_brackets.xlsx
│       ├── sunshine_climate_france.csv
│       ├── presidentielle_2022_tour1_departements.xlsx
│       ├── filosofi_2020/
│       │   ├── FILO2020_DISP_DEP.csv
│       │   └── FILO2020_DISP_PAUVRES_DEP.csv
│       └── filosofi_2020_commune/
│           └── base-cc-filosofi-2020-geo2023.xlsx
```

## How to Run

1. Clone this repository
2. Open `cyo_edx.Rproj` in RStudio
3. Source `cyo_script.R`

The script automatically installs any missing packages using `if (!require(...))` statements. It loads the pre-processed dataset (`data/dvf_houses_clean.csv`) directly, so no raw DVF files are needed. Full execution takes approximately 10-15 minutes depending on hardware (tested on Apple M1 Pro, 32 GB RAM).

The script produces all analysis outputs and saves `data/report_data.RDS`, which contains pre-computed results used by the Rmd file. If you wish to re-knit `cyo_report.Rmd`, run the script first. The pre-knit PDF (`cyo_report.pdf`) is included in the repository.

## Note on Commune Filtering

The file `data/commune_filter_lookup.csv` was generated by a separate preprocessing script that used IGN commune boundary polygons and the `sf::st_touches()` function to identify all communes adjacent to each target city. This spatial analysis is documented in the report (Section 3.2.1) but is not re-run by `cyo_script.R` because it requires large geospatial files not included in this repository. The lookup table it produced is included directly.

## Data Sources

- **DVF (Demandes de Valeurs Foncières):** https://www.data.gouv.fr/fr/datasets/demandes-de-valeurs-foncieres/
- **INSEE Filosofi 2020 (commune-level income):** https://www.insee.fr/fr/statistiques/6692392
- **INSEE RP 2020 (population by age):** https://www.insee.fr/
- **Météo France climate normals:** https://meteofrance.com/
- **2022 Presidential Election results:** https://www.data.gouv.fr/datasets/election-presidentielle-des-10-et-24-avril-2022-resultats-definitifs-du-1er-tour
- **IGN commune boundaries:** https://www.data.gouv.fr/